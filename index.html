<!DOCTYPE html>
<html>
    <body>

        <h1>Генерируем чудеса</h1>
        <label>Сюда вводить имена игроков через запятую, или просто число игроков</label><br>
        <input type="textarea" class="js-input" style="width: 700px;"><br><br>

        <input type="checkbox" class="js-el-dlc">
        <label>Есть длц Eternal Lords (фростлинги, тиграны, некроманты)</label><br>
        <input type="checkbox" class="js-gr-dlc">
        <label>Есть длц Golden Realms (халфлинги)</label><br><br>
        <button class="js-generate">Генерировать</button>
    </body>
    <script src="https://code.jquery.com/jquery-3.6.3.slim.min.js" integrity="sha256-ZwqZIVdD3iXNyGHbSYdsmWP//UBokj2FHAxKuSBKDSo=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(() => {
            $('.js-generate').on('click', () => {
                const players = $('.js-input').val();
                const raceStorage = [
                    'Человек',
                    'Дварф',
                    'Драконид',
                    'Гоблин',
                    'Орк',
                    'Эльф',
                    ...$('.js-el-dlc').is(":checked") ? ['Фростлинг', 'Тигран'] : [],
                    ...$('.js-gr-dlc').is(":checked") ? ['Халфлинг'] : [],
                ];
                const specsStorage = [
                    'Варлорд',
                    'Технократ',
                    'Колдун',
                    'Друид',
                    'Рога',
                    'Теократ',
                    ...$('.js-el-dlc').is(":checked") ? ['Некромант'] : [],
                ];
                let race = raceStorage;
                let specialization = specsStorage;

                const playersArr = isNaN(players) ? players.replaceAll(' ', '').split(',') : [...Array(Number(players)).keys()];
                let result = '';
                for (let i = 0; i < playersArr.length; i++) {
                    const raceIndex = Math.floor(Math.random() * (race.length));
                    const specIndex = Math.floor(Math.random() * (specialization.length));
                    
                    !race[raceIndex] ? race = raceStorage : '';
                    !specialization[specIndex] ? specialization = specsStorage : '';
  
                    result = result + playersArr[i] + ', играет за связку ' + race[raceIndex] + ' - ' + specialization[specIndex] + '\n';
                    race = race.filter(elem => elem !== race[raceIndex]);
                    specialization = specialization.filter(elem => elem !== specialization[specIndex]);
                }
                alert(result);
                $('.js-input').val('');
            });
        });
    </script>
</html>